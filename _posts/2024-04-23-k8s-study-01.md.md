---
title:  "ì¿ ë²„ë„¤í‹°ìŠ¤(k8s) ìŠ¤í„°ë”” - Windowsì— minikube ì„¤ì¹˜ ë° ì„¤ì •í•˜ê¸°"
excerpt: "ìœˆë„ìš°11 ë¡œì»¬PCì— minikubeë¥¼ ì´ìš©í•œ ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½ ì„¤ì •í•´ë³´ê¸°"

toc: true
toc_sticky: true
toc_label : "í˜ì´ì§€ ëª©ì°¨"

categories:
  - Development
tags:
  - ì¿ ë²„ë„¤í‹°ìŠ¤
  - k8s
  - minikube
  - windows11
last_modified_at: 2024-04-23T23:06:00-00:00
---
------------

# ì¿ ë²„ë„¤í‹°ìŠ¤(k8s) ìŠ¤í„°ë”” - Windowsì— minikube ì„¤ì¹˜ ë° ì„¤ì •í•˜ê¸°

ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½ êµ¬ì„±ì„ ë§Œì•½ minikubeë¡œ í•  ê²½ìš°ë¥¼ ìœ„í•´ ê°€ì´ë“œ ì‘ì„±

> minikube is local Kubernetes, focusing on making it easy to learn and develop for Kubernetes. All you need is Docker (or similarly compatible) container or a Virtual Machine environment, and Kubernetes is a single command away: minikube start

ì¦‰, ê°€ë²¼ìš´ ì¿ ë²„ë„¤í‹°ìŠ¤ êµ¬í˜„ì²´ì´ë©° ë¡œì»¬ ë¨¸ì‹ ì— VMì„ ë§Œë“¤ê³  í•˜ë‚˜ì˜ ë…¸ë“œë¡œ êµ¬ì„±ëœ ê°„ë‹¨í•œ í´ëŸ¬ìŠ¤í„°ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ íŠ¹ì§•ì´ë‹¤.
Minikubeë¥¼ ì‚¬ìš©í•˜ë©´ ë¡œì»¬ì—ì„œ ê°„ë‹¨í•˜ê²Œ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.
MinikubeëŠ” ë¦¬ëˆ…ìŠ¤, ë§¥, ê·¸ë¦¬ê³  ìœˆë„ìš° ì‹œìŠ¤í…œì—ì„œ êµ¬ë™ì´ ê°€ëŠ¥í•˜ë‹¤.

í•„ìš” ì‚¬ì–‘ì€ ì•„ë˜ì™€ ê°™ë‹¤ê³  í•œë‹¤.

- 2 CPUs or more
- 2GB of free memory
- 20GB of free disk space
- Internet connection
- Container or virtual machine manager, such as: Docker, QEMU, Hyperkit, Hyper-V, KVM, Parallels, Podman, VirtualBox, or VMware Fusion/Workstation

## minikubeë¥¼ ì‚¬ìš©í•˜ëŠ” ëª©ì 

- ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì²˜ìŒ ì…ë¬¸í•˜ê³  ë¡œì»¬ í™˜ê²½ì—ì„œ ì†ì‰½ê²Œ ì¿ ë²„ë„¤í‹°ìŠ¤ ëª…ë ¹ì–´ë“¤ì„ ì‹¤ìŠµí•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©
- MinikubeëŠ” ê°€ë²¼ìš´ ì¿ ë²„ë„¤í‹°ìŠ¤ êµ¬í˜„ì²´ì´ë¯€ë¡œ ë¡œì»¬ í™˜ê²½ì—ì„œ í•™ìŠµìš©ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ì í•©
- Minikube CLIëŠ” í´ëŸ¬ìŠ¤í„°ì— ëŒ€í•´ ì‹œì‘, ì¤‘ì§€, ìƒíƒœ ì¡°íšŒ ë° ì‚­ì œ ë“±ì˜ ê¸°ë³¸ì ì¸ ë¶€íŠ¸ ìŠ¤íŠ¸ë˜í•‘ ê¸°ëŠ¥ì„ ì œê³µ

ì‹¤ìŠµí™˜ê²½ : Windows 11 Pro, AMD Ryzen5 5600G, 16GB RAM, GTX 3060ti

## 1. VirtualBox ì„¤ì¹˜

### Requirements
[VirtualBox](https://www.virtualbox.org/wiki/Downloads) 5.2 or higher

## 2. minikube ì„¤ì¹˜

1. PowerShell ë˜ëŠ” GitBashë¥¼ ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰
2. To install the latest minikube stable release on x86-64 Windows using .exe download:

    Download and run the installer for the [latest release](https://storage.googleapis.com/minikube/releases/latest/minikube-installer.exe).

    Or if using PowerShell, use this command:

    ```bash
    New-Item -Path 'c:\' -Name 'minikube' -ItemType Directory -Force
    Invoke-WebRequest -OutFile 'c:\minikube\minikube.exe' -Uri 'https://github.com/kubernetes/minikube/releases/latest/download/minikube-windows-amd64.exe' -UseBasicParsing
    ```

  3. Add the minikube.exe binary to your PATH(ì‹œìŠ¤í…œ ì„¤ì •, í™˜ê²½ ë³€ìˆ˜ì—ì„œ ì§ì ‘ ì¶”ê°€í•´ë„ ë˜ê³ , ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ë„ ë¨).Make sure to run PowerShell as Administrator.

      ```bash
      $oldPath = [Environment]::GetEnvironmentVariable('Path', [EnvironmentVariableTarget]::Machine)
      if ($oldPath.Split(';') -inotcontains 'C:\minikube'){
        [Environment]::SetEnvironmentVariable('Path', $('{0};C:\minikube' -f $oldPath), [EnvironmentVariableTarget]::Machine)
      }
      ```

## 3. Cluster ì‹œì‘

ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰í•œ í„°ë¯¸ë„(PowerShell or others)ì—ì„œ 

```bash
minikube start
```

ë§Œì•½ ì‹¤íŒ¨í•œë‹¤ë©´, ë“œë¼ì´ë²„ í˜ì´ì§€ì—ì„œ ì„¸íŒ…í•˜ëŠ” ë°©ë²•ì„ ì°¾ì•„ì„œ ì§ì ‘ ì‹¤í–‰í•˜ê¸°.

ì˜ˆë¥¼ ë“¤ì–´, virtual boxë¥¼ ì´ìš©í•  ê²½ìš°,

```bash
minikube start --driver=virtualbox --no-vtx-check --image-repository=auto
```

### --no-vtx-check ì˜µì…˜

```
! StartHost failed, but will try again: creating host: create: precreate: This computer is running Hyper-V. VirtualBox won't boot a 64bits VM when Hyper-V is activated. Either use Hyper-V as a driver, or disable the Hyper-V hypervisor. (To skip this check, use --virtualbox-no-vtx-check)
```

minikube start ëª…ë ¹ì–´ ì‹¤í–‰ í›„, ìœ„ì™€ ê°™ì€ fail error msgê°€ ëœ° ìˆ˜ ìˆë‹¤. BIOSì—ì„œë„ ì„¤ì •í–ˆìœ¼ë‚˜ ìœ„ì™€ ê°™ì€ ì—ëŸ¬ê°€ ê³„ì† ëœ° ê²½ìš°, '--no-vtx-check' ì˜µì…˜ì„ ì¨ì•¼ì§€ ë¹Œë“œê°€ ë¨.

## Trouble shooting

- ë§Œì•½ minikube start ëª…ë ¹ì–´ ì´í›„, ì œëŒ€ë¡œ ì„¤ì¹˜ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´, ì•„ë˜ë¥¼ ì°¨ë¡€ëŒ€ë¡œ ì§„í–‰ í›„, ì¬ì„¤ì¹˜ ì‹œë„í•  ê²ƒ

  1. minikube stop
  2. minikube delete
  3. minikube profile list

- ìµœí›„ì˜ ìˆ˜ë‹¨ì€, minikube í´ë”ë¥¼ ê¹”ë”í•˜ê²Œ ì§€ìš°ëŠ” ê²ƒì´ë‹¤.

  1. ì‚¬ìš©ì ë””ë ‰í† ë¦¬ì—ì„œ .minikube ë””ë ‰í† ë¦¬ë¥¼ ëª¨ë‘ ì§€ìš°ì.
  2. ë§Œì•½ Git Bash ì´ìš©ì¤‘ì´ë¼ë©´, 
    ```bash
    cd /c/Users/{ìœ ì €ëª…}
    rm -rf .minikube
    ```

# ì„¤ì¹˜ í™•ì¸

```bash
$ minikube profile list
|----------|------------|---------|----------------|------|---------|---------|-------|----------------|--------------------|
| Profile  | VM Driver  | Runtime |       IP       | Port | Version | Status  | Nodes | Active Profile | Active Kubecontext |
|----------|------------|---------|----------------|------|---------|---------|-------|----------------|--------------------|
| minikube | virtualbox | docker  | 192.168.59.105 | 8443 | v1.30.0 | Running |     1 | *              | *                  |
|----------|------------|---------|----------------|------|---------|---------|-------|----------------|--------------------|
```

# ìì£¼ ì‚¬ìš©í•˜ëŠ” minikube ëª…ë ¹ì–´ ëª¨ìŒ
```bash
$ minikube stop -p minibox
$ minikube start -p minibox
$ minikube stop
$ minikube start

$ minikube version
$ minikube node list

minikube 192.168.59.100

$ minikube node list -p minibox

minibox   192.168.59.101
minibox-m02   192.168.59.102
minibox-m03   192.168.59.103

$ minikube ip

192.168.59.100

$ minikube -p minibox ip

192.168.59.101

$ minikube -p minibox ip -n minibox-m02

192.168.59.102

$ minikube delete

ğŸ”¥  Deleting "minikube" in virtualbox ...
ğŸ’€  Removed all traces of the "minikube" cluster.

$ minikube delete -p minibox

ğŸ”¥  Deleting "minibox" in virtualbox ...
ğŸ”¥  Deleting "minibox-m02" in virtualbox ...
ğŸ”¥  Deleting "minibox-m03" in virtualbox ...
ğŸ’€  Removed all traces of the "minibox" cluster.

$ minikube start -n ìˆ«ì

1ê°œì˜ masterì™€ (ìˆ«ì-1)ê°œì˜ worker ë…¸ë“œë¥¼ ìƒì„±í•¨.
ex) -n 3ì´ë©´, 1ê°œì˜ ë§ˆìŠ¤í„°ì™€ 2ê°œì˜ worker ë…¸ë“œê°€ ìƒì„±ë¨.
```